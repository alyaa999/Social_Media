<div class="signup-card animate-slideInUp">
  <div class="signup-header text-center mb-10">
    <h1 class="signup-title text-4xl font-extrabold mb-3">Join Thryve</h1>
    <p class="signup-subtitle text-gray-400 text-lg mb-2">Ready to build something amazing?</p>
    <p class="signup-tagline italic text-[#dcff1e] text-sm">Together we create, together we thryve</p>
  </div>

  <form #step1Form="ngForm" class="signup-form flex flex-col gap-6" (ngSubmit)="proceed()" novalidate>

    <!-- Email -->
    <div class="form-group relative">
      <input
        type="email"
        class="form-input peer w-full px-4 py-3 rounded-md bg-[#0c1f27] text-white placeholder-transparent border transition-all duration-300 focus:outline-none focus:ring-yellow-400"
        [ngClass]="{
          'border-gray-600': !emailRef.valid && !emailRef.touched,
          'border-red-500': emailRef.invalid && emailRef.touched,
          'border-green-500': emailRef.valid
        }"
        placeholder="Email Address"
        name="email"
        required
        email
        [(ngModel)]="signupService.formData.email"
        #emailRef="ngModel"
      />
      <label
        for="email"
        class="form-label absolute left-4 text-sm text-gray-400 transition-all duration-200
          peer-placeholder-shown:text-base
          peer-placeholder-shown:top-1/2
          peer-placeholder-shown:-translate-y-1/2
          peer-focus:top-[-0.75rem]
          peer-focus:text-sm
          peer-focus:text-yellow-300"
        [class.top-[-0.75rem]]="signupService.formData.email"
        [class.text-sm]="signupService.formData.email"
      >
        Email Address
      </label>
      <div *ngIf="emailRef.invalid && emailRef.touched" class="text-sm text-red-400 mt-1">
        Please enter a valid email address.
      </div>
    </div>

    <!-- Password -->
    <div class="form-group relative">
      <input
        [type]="passwordVisible ? 'text' : 'password'"
        class="form-input peer w-full px-4 py-3 rounded-md bg-[#0c1f27] text-white placeholder-transparent border border-gray-600 focus:outline-none focus:ring-2 focus:ring-yellow-400"
        placeholder="Create Password"
        name="password"
        required
        minlength="6"
        [(ngModel)]="signupService.formData.password"
        #passwordRef="ngModel"
        (input)="onPasswordInput(signupService.formData.password)"
      />
      <label
        for="password"
        class="form-label absolute left-4 text-sm text-gray-400 transition-all duration-200
          peer-placeholder-shown:text-base
          peer-placeholder-shown:top-1/2
          peer-placeholder-shown:-translate-y-1/2
          peer-focus:top-[-0.75rem]
          peer-focus:text-sm
          peer-focus:text-yellow-300"
        [class.top-[-0.75rem]]="signupService.formData.password"
        [class.text-sm]="signupService.formData.password"
      >
        Create Password
      </label>

      <button
        type="button"
        class="password-toggle absolute right-5 top-1/2 transform -translate-y-1/2 text-xl text-gray-400 hover:text-red-500"
        (click)="togglePasswordVisibility()"
      >
        {{ passwordVisible ? 'ğŸ™ˆ' : 'ğŸ‘' }}
      </button>

      <div class="password-strength h-1 mt-2 bg-[#2d4754] rounded transition-opacity duration-300"
           [ngClass]="{ 'opacity-100': barWidth !== '0%' }">
        <div class="strength-bar h-full transition-all duration-500 rounded"
             [ngClass]="strengthClass"
             [style.width]="barWidth"></div>
      </div>

      <div *ngIf="passwordRef.invalid && passwordRef.touched" class="text-sm text-red-400 mt-1">
        Password must be at least 6 characters.
      </div>
    </div>

    <!-- Terms -->
    <div class="terms-text text-center text-sm text-gray-500 leading-snug">
      By creating an account, you agree to our
      <a href="#" class="text-[#dcff1e] hover:text-red-500 transition">Terms of Service</a> and
      <a href="#" class="text-[#dcff1e] hover:text-red-500 transition">Privacy Policy</a>
    </div>

    <!-- Submit -->
    <button
      type="submit"
      class="signup-btn uppercase tracking-wider font-bold"
      [disabled]="step1Form.invalid"
    >
      Create My Account
    </button>
  </form>

  <!-- Login -->
  <div class="login-section text-center mt-10 pt-6 border-t border-[#2d4754]">
    <p class="text-gray-400 mb-4">Already thriving with us?</p>
    <a
      href="#"
      class="login-btn-link border-2 border-red-600 px-8 py-3 rounded-full text-red-600 hover:bg-red-600 hover:text-white transition"
    >
      SIGN IN
    </a>
  </div>
</div>
